function parse_color(a){var b="000000",c={h:0,s:0,l:0},d={h:0,s:0,v:0},e=0,f={r:0,g:0,b:0},g=[{re:/^([0-9a-f]{1})([0-9a-f]{1})([0-9a-f]{1})$/,process:function(a){return{r:parseInt(a[1]+a[1],16),g:parseInt(a[2]+a[2],16),b:parseInt(a[3]+a[3],16)}}},{re:/^([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/,process:function(a){return{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(a){return{r:parseInt(a[1],10),g:parseInt(a[2],10),b:parseInt(a[3],10)}}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)\)$/,process:function(a){return{r:parseInt(a[1],10),g:parseInt(a[2],10),b:parseInt(a[3],10)}}}],h={h:360,s:100,l:100,v:100,r:255,g:255,b:255},i=function(){for(field in a)a[field]=a[field]<0||isNaN(a[field])?0:a[field]>h[field]?h[field]:a[field];return a},j=function(){e=(f.r*.21+f.g*.72+f.b*.07)/255},k=function(){var a=c.s/100,b=c.l/100,e=a*(1-Math.abs(2*b-1));d.h=c.h,d.s=0,d.v=(2*b+e)/2,e!=0&&(d.s=e/d.v),d.s*=100,d.v*=100},l=function(){var a=d.s/100,b=d.v/100,e=b,f=b*(-a+1),g=e-f;c.h=d.h,c.s=0,c.l=(e+f)/2,g!=0&&(c.s=g/(1-Math.abs(2*c.l-1))),c.s*=100,c.l*=100},m=function(){var a=d.h,b=d.s/100,c=d.v/100;f.b=f.g=f.r=c;if(b!=0){var e=a/60,g=Math.floor(e),h=e-g,i=c*(1-b),j=c*(1-b*h),k=c*(1-b*(1-h));switch(g){case 0:case 6:f.g=k,f.b=i;break;case 1:f.r=j,f.b=i;break;case 2:f.r=i,f.b=k;break;case 3:f.r=i,f.g=j;break;case 4:f.r=k,f.g=i;break;case 5:f.g=i,f.b=j}}f.r=Math.round(f.r*255),f.g=Math.round(f.g*255),f.b=Math.round(f.b*255)},n=function(){var a=f.r.toString(16),c=f.g.toString(16),d=f.b.toString(16);a=a.length==1?"0"+a:a,c=c.length==1?"0"+c:c,d=d.length==1?"0"+d:d,b=(a+c+d).toUpperCase()},o=function(){var a=f.r/255,b=f.g/255,e=f.b/255,g=Math.max(a,b,e),h=Math.min(a,b,e),i=g-h;c.s=c.h=g,c.l=(g+h)/2,d.v=d.s=d.h=g;switch(g){case a:b>=e?i==0?c.h=0:c.h=60*(b-e)/i:b<e&&(c.h=60*(b-e)/i+360);break;case b:c.h=60*(e-a)/i+120;break;case e:c.h=60*(a-b)/i+240}d.h=c.h,i==0?d.s=c.s=0:(c.s=i/(1-Math.abs(2*c.l-1)),d.s=i/d.v),c.s*=100,c.l*=100,d.s*=100,d.v*=100},p=function(){a=a.toLowerCase().replace(/[\s#]/g,"");for(var b=0;b<g.length;b++){var c=g[b].process,d=g[b].re,e=d.exec(a);if(e){a=c(e);break}}typeof a=="object"&&(f=i())};switch(typeof a){case"number":var q=parseInt(a,10);d.h=isNaN(q)?0:Math.max(Math.min(q,360),0),d.s=Math.round(Math.random()*100),d.v=Math.round(Math.random()*100),l(),m(),n(),j();break;case"object":if("r"in a&&"g"in a&&"b"in a)f=i(),o();else if("h"in a&&"s"in a)"l"in a?(c=i(),k()):(d=i(),l()),m();else break;n(),j();break;case"string":p(),o(),n(),j();break;default:f.r=Math.round(Math.random()*255),f.g=Math.round(Math.random()*255),f.b=Math.round(Math.random()*255),n(),o(),j()}return{hex:b,hsl:c,hsv:d,luma:e,rgb:f}}
